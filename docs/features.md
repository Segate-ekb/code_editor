# Возможности редактора

Подробное описание всех функций редактора кода.

## Редактирование кода

### Подсветка синтаксиса

Редактор полностью поддерживает синтаксис языка BSL (Built-in Scripting Language) 1С:Предприятие:

- Ключевые слова (`Если`, `Тогда`, `Для`, `Цикл`, `Функция`, `Процедура` и др.)
- Литералы (строки, числа, даты)
- Комментарии (строчные `//` и блочные)
- Директивы препроцессора (`#Если`, `#КонецЕсли`, `&НаСервере` и др.)
- Операторы и разделители

### Режимы языка

Редактор поддерживает несколько языковых режимов:

| Режим | Описание | Метод переключения |
|-------|----------|-------------------|
| `bsl` | Язык 1С (по умолчанию) | `УстановитьРежимЯзыка(Форма, "bsl")` |
| `bsl_query` | Язык запросов 1С | `УстановитьРежимЯзыка(Форма, "bsl_query")` |
| `dcs_query` | Язык СКД | `УстановитьРежимЯзыка(Форма, "dcs_query")` |
| `json` | JSON | `УстановитьРежимЯзыка(Форма, "json")` |
| `xml` | XML | `УстановитьРежимЯзыка(Форма, "xml")` |
| `yaml` | YAML | `УстановитьРежимЯзыка(Форма, "yaml")` |

```bsl
// Переключение на режим JSON
конс_ПодключаемаяКонсольКлиент.УстановитьРежимЯзыка(ЭтаФорма, "json");
```

### Сворачивание кода (Folding)

Автоматическое определение сворачиваемых блоков:

- Процедуры и функции
- Условные конструкции (`Если...КонецЕсли`)
- Циклы (`Для...КонецЦикла`, `Пока...КонецЦикла`)
- Области (`#Область...#КонецОбласти`)
- Попытки (`Попытка...КонецПопытки`)

## Автодополнение

### Методы платформы

При вводе кода редактор предлагает:

- Глобальные методы платформы (`Сообщить`, `Формат`, `СтрДлина` и др.)
- Конструкторы объектов (`Новый Массив`, `Новый Структура`, `Новый Запрос`)
- Системные перечисления и типы

### Метаданные конфигурации

Автодополнение поддерживает объекты метаданных:

- **Справочники** — `Справочники.Номенклатура`
- **Документы** — `Документы.ЗаказКлиента`
- **Регистры** — `РегистрыСведений.Цены`
- **Перечисления** — `Перечисления.СтатусЗаказа`
- **Общие модули** — `ОбщегоНазначения.`
- И другие коллекции

При вводе точки после объекта показываются его реквизиты и методы.

### Контекстное автодополнение

Редактор анализирует типы переменных и предлагает соответствующие методы:

```bsl
// После ввода "Результат." появятся методы Массива
Результат = Новый Массив;
Результат.  // Предлагает: Добавить, Вставить, Количество, Удалить и т.д.
```

### Пользовательский контекст

Вы можете добавить свои переменные и функции в автодополнение:

- [Добавление переменных](variables.md)
- [Добавление функций](functions.md)

## Выполнение кода

### Режимы выполнения

| Режим | Описание |
|-------|----------|
| На сервере | Код выполняется в серверном контексте |
| На клиенте | Код выполняется в клиентском контексте |
| Внешнее | Код выполняется в произвольном контексте |

### Табло переменных

После выполнения кода можно просмотреть значения всех объявленных переменных:

```bsl
а = 1;
б = 2;
Результат = а + б;  // В табло будет: а=1, б=2, Результат=3
```

Режимы показа переменных:

| Режим | Описание |
|-------|----------|
| Не показывать | Переменные не отображаются |
| В табло | Отображение в отдельной панели |
| В подсказках | Отображение при наведении на переменную |

### Подсветка ошибок

При ошибке выполнения:

- Строка с ошибкой подсвечивается
- Отображается описание ошибки
- Курсор устанавливается на проблемную строку

## Навигация

### Горячие клавиши

| Комбинация | Действие |
|------------|----------|
| `Ctrl+F` | Поиск |
| `Ctrl+H` | Поиск и замена |
| `Ctrl+G` | Переход к строке |
| `Ctrl+/` | Комментирование строки |
| `Ctrl+Shift+K` | Удаление строки |
| `Alt+↑/↓` | Перемещение строки |
| `Ctrl+D` | Дублирование строки |
| `Ctrl+Z` | Отмена |
| `Ctrl+Y` | Повтор |
| `Ctrl+S` | Сохранение (если обрабатывается) |
| `Tab` | Отступ / Раскрытие сниппета |
| `F12` | Переход к определению |
| `Ctrl+Space` | Вызов автодополнения |

### Закладки

Поддержка закладок для быстрой навигации по коду:

- Установка/снятие закладки
- Переход между закладками

### Карта кода (Minimap)

Уменьшенное представление всего документа справа от редактора для быстрой навигации.

## Оформление

### Темы

Доступные темы оформления:

| Тема | Идентификатор |
|------|---------------|
| Светлая | `СветлаяТема` |
| Тёмная | `ТёмнаяТема` |
| Высококонтрастная | `ВысокийКонтраст` |

```bsl
// Установка темы
конс_ПодключаемаяКонсольКлиент.УстановитьТему(ЭтаФорма, "ТёмнаяТема");
```

### Настройки отображения

- **Карта кода** — показ/скрытие minimap
- **Пробелы и табуляции** — визуализация невидимых символов
- **Строка состояния** — информация о позиции курсора
- **Быстрые подсказки** — автоматическое появление автодополнения

## Сниппеты

Быстрые шаблоны кода с поддержкой табуляции:

```bsl
// Введите "Для" и нажмите Tab — развернётся шаблон цикла
Для Индекс = 0 По Количество - 1 Цикл
    |
КонецЦикла;
```

Подробнее: [Создание сниппетов](snippets.md)

## Расширенные возможности

### Загрузка исходников конфигурации

Редактор может подгружать методы из исходников конфигурации для улучшения автодополнения:

```bsl
// В настройках указывается путь к выгруженной конфигурации
// После этого при вводе "ОбщегоНазначения." показываются методы модуля
```

### Загрузка шаблонов из файлов

Поддержка загрузки сниппетов из файлов шаблонов 1С (.st):

```bsl
конс_ПодключаемаяКонсольКлиент.ЗагрузитьСниппетыИзФайла(ЭтаФорма, "C:\Шаблоны\МоиШаблоны.st");
```

### Режим только чтение

```bsl
// Включить режим только чтение
конс_ПодключаемаяКонсольКлиент.УстановитьРежимТолькоЧтение(ЭтаФорма, Истина);

// Выключить
конс_ПодключаемаяКонсольКлиент.УстановитьРежимТолькоЧтение(ЭтаФорма, Ложь);
```

## Интеграция с 1С

### События редактора

Редактор отправляет события, которые можно обрабатывать в 1С:

- Изменение текста
- Изменение позиции курсора
- Выполнение команд

### Программное управление

Полный набор методов для управления редактором из кода 1С:

- Получение/установка текста
- Управление выделением
- Позиционирование курсора
- Управление маркерами и декорациями

## Следующие шаги

- [Добавление переменных](variables.md)
- [Добавление функций](functions.md)
- [Создание сниппетов](snippets.md)
- [Настройки](settings.md)
- [Справочник API](api-reference.md)
