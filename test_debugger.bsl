// =============================================================================
// Комплексный тестовый сценарий для проверки отладчика oneDebugger
// Покрывает: переменные, ветвления, циклы, рекурсию, обработку исключений,
//            коллекции, строковые операции, вычисления, вложенные вызовы
// =============================================================================

Перем Счетчик;

// =============================================================================
// ОПРЕДЕЛЕНИЕ ВСЕХ ФУНКЦИЙ И ПРОЦЕДУР
// =============================================================================

// --- 3. АРИФМЕТИЧЕСКИЕ И ЛОГИЧЕСКИЕ ОПЕРАЦИИ ---

Функция Факториал(Н)
    Если Н <= 1 Тогда
        Возврат 1;
    Иначе
        Возврат Н * Факториал(Н - 1);
    КонецЕсли;
КонецФункции

Функция ФибоначчиРекурсивный(Н)
    Если Н <= 0 Тогда
        Возврат 0;
    ИначеЕсли Н = 1 Тогда
        Возврат 1;
    Иначе
        Возврат ФибоначчиРекурсивный(Н - 1) + ФибоначчиРекурсивный(Н - 2);
    КонецЕсли;
КонецФункции

Функция ФибоначчиИтеративный(Н)
    Если Н <= 0 Тогда
        Возврат 0;
    КонецЕсли;
    
    Предыдущий  = 0;
    Текущий     = 1;
    
    Шаг = 2;
    Пока Шаг <= Н Цикл
        Временный  = Текущий;
        Текущий    = Предыдущий + Текущий;
        Предыдущий = Временный;
        Шаг = Шаг + 1;
    КонецЦикла;
    
    Возврат Текущий;
КонецФункции

Функция НОД(А, Б)
    Пока Б <> 0 Цикл
        Временный = Б;
        Б = А % Б;
        А = Временный;
    КонецЦикла;
    Возврат А;
КонецФункции

Функция НОК(А, Б)
    Возврат (А * Б) / НОД(А, Б);
КонецФункции

Функция ФункцияСтепень(Основание, Показатель)
    Если Показатель = 0 Тогда
        Возврат 1;
    ИначеЕсли Показатель < 0 Тогда
        Возврат 1 / ФункцияСтепень(Основание, 0 - Показатель);
    ИначеЕсли Показатель % 2 = 0 Тогда
        Половина = ФункцияСтепень(Основание, Цел(Показатель / 2));
        Возврат Половина * Половина;
    Иначе
        Возврат Основание * ФункцияСтепень(Основание, Показатель - 1);
    КонецЕсли;
КонецФункции

// --- 4. СТРОКОВЫЕ ОПЕРАЦИИ ---

Функция ПеревернутьСтроку(Стр)
    Результат = "";
    Позиция = СтрДлина(Стр);
    Пока Позиция >= 1 Цикл
        Результат = Результат + Сред(Стр, Позиция, 1);
        Позиция = Позиция - 1;
    КонецЦикла;
    Возврат Результат;
КонецФункции

Функция ПодсчитатьВхождения(Стр, Подстрока)
    Количество = 0;
    НачПозиция = 1;
    
    Пока Истина Цикл
        Позиция = СтрНайти(Стр, Подстрока,, НачПозиция);
        Если Позиция = 0 Тогда
            Прервать;
        КонецЕсли;
        Количество = Количество + 1;
        НачПозиция = Позиция + СтрДлина(Подстрока);
    КонецЦикла;
    
    Возврат Количество;
КонецФункции

Функция РазделитьСтроку(Стр, Разделитель)
    Результат = Новый Массив;
    Остаток = Стр;
    
    Пока СтрДлина(Остаток) > 0 Цикл
        Позиция = СтрНайти(Остаток, Разделитель);
        Если Позиция = 0 Тогда
            Результат.Добавить(Остаток);
            Прервать;
        КонецЕсли;
        Результат.Добавить(Лев(Остаток, Позиция - 1));
        Остаток = Сред(Остаток, Позиция + СтрДлина(Разделитель));
    КонецЦикла;
    
    Возврат Результат;
КонецФункции

Функция СоединитьМассив(МассивЗначений, Разделитель)
    Результат = "";
    Для Индекс = 0 По МассивЗначений.Количество() - 1 Цикл
        Если Индекс > 0 Тогда
            Результат = Результат + Разделитель;
        КонецЕсли;
        Результат = Результат + МассивЗначений[Индекс];
    КонецЦикла;
    Возврат Результат;
КонецФункции

// --- 5. СОРТИРОВКА (пузырьковая + быстрая) ---

Процедура СортировкаПузырьком(МассивДанных)
    Размер = МассивДанных.Количество();
    ВерхняяГраница = Размер - 2;
    Для ИндВнеш = 0 По ВерхняяГраница Цикл
        ВнутренняяГраница = Размер - 2 - ИндВнеш;
        Для ИндВнутр = 0 По ВнутренняяГраница Цикл
            Если МассивДанных[ИндВнутр] > МассивДанных[ИндВнутр + 1] Тогда
                Врем                       = МассивДанных[ИндВнутр];
                МассивДанных[ИндВнутр]      = МассивДанных[ИндВнутр + 1];
                МассивДанных[ИндВнутр + 1]  = Врем;
            КонецЕсли;
        КонецЦикла;
    КонецЦикла;
КонецПроцедуры

Процедура БыстраяСортировка(МассивДанных, Лево = Неопределено, Право = Неопределено)
    Если Лево = Неопределено Тогда
        Лево  = 0;
        Право = МассивДанных.Количество() - 1;
    КонецЕсли;
    
    Если Лево >= Право Тогда
        Возврат;
    КонецЕсли;
    
    Опорный = МассивДанных[Цел((Лево + Право) / 2)];
    ИндЛ = Лево;
    ИндП = Право;
    
    Пока ИндЛ <= ИндП Цикл
        Пока МассивДанных[ИндЛ] < Опорный Цикл
            ИндЛ = ИндЛ + 1;
        КонецЦикла;
        Пока МассивДанных[ИндП] > Опорный Цикл
            ИндП = ИндП - 1;
        КонецЦикла;
        Если ИндЛ <= ИндП Тогда
            Врем              = МассивДанных[ИндЛ];
            МассивДанных[ИндЛ] = МассивДанных[ИндП];
            МассивДанных[ИндП] = Врем;
            ИндЛ = ИндЛ + 1;
            ИндП = ИндП - 1;
        КонецЕсли;
    КонецЦикла;
    
    БыстраяСортировка(МассивДанных, Лево, ИндП);
    БыстраяСортировка(МассивДанных, ИндЛ, Право);
КонецПроцедуры

// --- 6. ОБРАБОТКА ИСКЛЮЧЕНИЙ (вложенные try/catch) ---

Функция БезопасноеДеление(Делимое, Делитель)
    Попытка
        Если Делитель = 0 Тогда
            ВызватьИсключение "Деление на ноль!";
        КонецЕсли;
        Возврат Делимое / Делитель;
    Исключение
        Возврат "ОШИБКА: " + ОписаниеОшибки();
    КонецПопытки;
КонецФункции

Процедура ТестВложенныхИсключений()
    ЖурналОшибок = Новый Массив;
    
    Попытка
        Сообщить("Уровень 1: начало");
        
        Попытка
            Сообщить("Уровень 2: начало");
            
            Попытка
                Сообщить("Уровень 3: вызываем ошибку");
                ВызватьИсключение "Ошибка на уровне 3";
            Исключение
                ЖурналОшибок.Добавить("Перехвачено на уровне 3: " + ОписаниеОшибки());
                // Пробрасываем дальше
                ВызватьИсключение;
            КонецПопытки;
            
        Исключение
            ЖурналОшибок.Добавить("Перехвачено на уровне 2: " + ОписаниеОшибки());
        КонецПопытки;
        
        Сообщить("Уровень 1: продолжение после вложенного исключения");
        
    Исключение
        ЖурналОшибок.Добавить("Перехвачено на уровне 1: " + ОписаниеОшибки());
    КонецПопытки;
    
    Для Каждого Запись Из ЖурналОшибок Цикл
        Сообщить("Журнал: " + Запись);
    КонецЦикла;
КонецПроцедуры

// --- 7. ЗАМЫКАНИЯ И ФУНКЦИИ ВЫСШЕГО ПОРЯДКА (эмуляция через структуры) ---

Функция СоздатьСчетчик(НачальноеЗначение)
    Возврат Новый Структура("Значение", НачальноеЗначение);
КонецФункции

Процедура УвеличитьСчетчик(ОбъектСчетчик, Шаг = 1)
    ОбъектСчетчик.Значение = ОбъектСчетчик.Значение + Шаг;
КонецПроцедуры

Функция ПолучитьЗначениеСчетчика(ОбъектСчетчик)
    Возврат ОбъектСчетчик.Значение;
КонецФункции

Функция ПрименитьКМассиву(ИсходныйМассив, Операция, Параметр)
    Результат = Новый Массив;
    Для Каждого Элемент Из ИсходныйМассив Цикл
        Если Операция = "умножить" Тогда
            Результат.Добавить(Элемент * Параметр);
        ИначеЕсли Операция = "сложить" Тогда
            Результат.Добавить(Элемент + Параметр);
        ИначеЕсли Операция = "квадрат" Тогда
            Результат.Добавить(Элемент * Элемент);
        ИначеЕсли Операция = "фильтр_больше" Тогда
            Если Элемент > Параметр Тогда
                Результат.Добавить(Элемент);
            КонецЕсли;
        Иначе
            // Неизвестная операция - пропускаем
            Продолжить;
        КонецЕсли;
    КонецЦикла;
    Возврат Результат;
КонецФункции

Функция Свертка(МассивЗначений, НачальноеЗначение, Операция)
    Аккумулятор = НачальноеЗначение;
    Для Каждого Элемент Из МассивЗначений Цикл
        Если Операция = "сумма" Тогда
            Аккумулятор = Аккумулятор + Элемент;
        ИначеЕсли Операция = "произведение" Тогда
            Аккумулятор = Аккумулятор * Элемент;
        ИначеЕсли Операция = "макс" Тогда
            Если Элемент > Аккумулятор Тогда
                Аккумулятор = Элемент;
            КонецЕсли;
        ИначеЕсли Операция = "мин" Тогда
            Если Элемент < Аккумулятор Тогда
                Аккумулятор = Элемент;
            КонецЕсли;
        Иначе
            // Неизвестная операция - пропускаем
            Продолжить;
        КонецЕсли;
    КонецЦикла;
    Возврат Аккумулятор;
КонецФункции

// --- 8. ГРАФ И ОБХОД В ШИРИНУ (BFS) ---

Процедура ДобавитьРебро(Граф, Откуда, Куда, Расстояние)
    Если Граф[Откуда] = Неопределено Тогда
        Граф.Вставить(Откуда, Новый Массив);
    КонецЕсли;
    Если Граф[Куда] = Неопределено Тогда
        Граф.Вставить(Куда, Новый Массив);
    КонецЕсли;
    
    Граф[Откуда].Добавить(Новый Структура("Вершина,Расстояние", Куда, Расстояние));
    Граф[Куда].Добавить(Новый Структура("Вершина,Расстояние", Откуда, Расстояние));
КонецПроцедуры

Функция СоздатьГраф()
    Граф = Новый Соответствие;
    
    // Граф городов
    ДобавитьРебро(Граф, "Москва", "Тверь", 180);
    ДобавитьРебро(Граф, "Москва", "Владимир", 190);
    ДобавитьРебро(Граф, "Москва", "Тула", 180);
    ДобавитьРебро(Граф, "Тверь", "Великий Новгород", 360);
    ДобавитьРебро(Граф, "Великий Новгород", "Санкт-Петербург", 190);
    ДобавитьРебро(Граф, "Владимир", "Нижний Новгород", 240);
    ДобавитьРебро(Граф, "Тула", "Орел", 180);
    ДобавитьРебро(Граф, "Орел", "Курск", 170);
    
    Возврат Граф;
КонецФункции

Функция ПоискВШирину(Граф, Старт, Цель)
    Очередь  = Новый Массив;
    Посещено = Новый Соответствие;
    Родитель = Новый Соответствие;
    
    Очередь.Добавить(Старт);
    Посещено.Вставить(Старт, Истина);
    Родитель.Вставить(Старт, Неопределено);
    
    Пока Очередь.Количество() > 0 Цикл
        ТекущаяВершина = Очередь[0];
        Очередь.Удалить(0);
        
        Если ТекущаяВершина = Цель Тогда
            // Восстановим путь
            Путь = Новый Массив;
            Вершина = Цель;
            Пока Вершина <> Неопределено Цикл
                Путь.Вставить(0, Вершина);
                Вершина = Родитель[Вершина];
            КонецЦикла;
            Возврат Путь;
        КонецЕсли;
        
        Соседи = Граф[ТекущаяВершина];
        Если Соседи <> Неопределено Тогда
            Для Каждого Сосед Из Соседи Цикл
                Если Посещено[Сосед.Вершина] = Неопределено Тогда
                    Посещено.Вставить(Сосед.Вершина, Истина);
                    Родитель.Вставить(Сосед.Вершина, ТекущаяВершина);
                    Очередь.Добавить(Сосед.Вершина);
                КонецЕсли;
            КонецЦикла;
        КонецЕсли;
    КонецЦикла;
    
    Возврат Новый Массив; // Путь не найден
КонецФункции

// --- 9. КОНЕЧНЫЙ АВТОМАТ (state machine) ---

Процедура ДобавитьПереход(Переходы, ИзСостояния, Событие, ВСостояние)
    Ключ = ИзСостояния + "|" + Событие;
    Переходы.Вставить(Ключ, ВСостояние);
КонецПроцедуры

Функция СоздатьАвтомат()
    Автомат = Новый Структура;
    Автомат.Вставить("Состояние", "ОЖИДАНИЕ");
    Автомат.Вставить("Журнал", Новый Массив);
    Автомат.Вставить("Данные", Новый Структура("Сумма,Количество", 0, 0));
    
    Переходы = Новый Соответствие;
    
    // ОЖИДАНИЕ
    ДобавитьПереход(Переходы, "ОЖИДАНИЕ",    "СТАРТ",      "ОБРАБОТКА");
    ДобавитьПереход(Переходы, "ОЖИДАНИЕ",    "СТОП",       "ЗАВЕРШЕНО");
    // ОБРАБОТКА
    ДобавитьПереход(Переходы, "ОБРАБОТКА",   "ДАННЫЕ",     "ОБРАБОТКА");
    ДобавитьПереход(Переходы, "ОБРАБОТКА",   "ОШИБКА",     "ОШИБКА_ОБРАБОТКИ");
    ДобавитьПереход(Переходы, "ОБРАБОТКА",   "ЗАВЕРШИТЬ",  "ЗАВЕРШЕНО");
    ДобавитьПереход(Переходы, "ОБРАБОТКА",   "ПАУЗА",      "ПРИОСТАНОВЛЕНО");
    // ПРИОСТАНОВЛЕНО
    ДобавитьПереход(Переходы, "ПРИОСТАНОВЛЕНО", "ВОЗОБНОВИТЬ", "ОБРАБОТКА");
    ДобавитьПереход(Переходы, "ПРИОСТАНОВЛЕНО", "СТОП",        "ЗАВЕРШЕНО");
    // ОШИБКА_ОБРАБОТКИ
    ДобавитьПереход(Переходы, "ОШИБКА_ОБРАБОТКИ", "ПОВТОРИТЬ", "ОБРАБОТКА");
    ДобавитьПереход(Переходы, "ОШИБКА_ОБРАБОТКИ", "СТОП",      "ЗАВЕРШЕНО");
    
    Автомат.Вставить("Переходы", Переходы);
    Возврат Автомат;
КонецФункции

Функция ОбработатьСобытие(Автомат, Событие, Значение = Неопределено)
    Ключ = Автомат.Состояние + "|" + Событие;
    НовоеСостояние = Автомат.Переходы[Ключ];
    
    Если НовоеСостояние = Неопределено Тогда
        Запись = "ОТКЛОНЕНО: " + Событие + " в состоянии " + Автомат.Состояние;
        Автомат.Журнал.Добавить(Запись);
        Возврат Ложь;
    КонецЕсли;
    
    СтароеСостояние = Автомат.Состояние;
    Автомат.Состояние = НовоеСостояние;
    
    // Обработка побочных эффектов
    Если Событие = "ДАННЫЕ" И Значение <> Неопределено Тогда
        Автомат.Данные.Сумма     = Автомат.Данные.Сумма + Значение;
        Автомат.Данные.Количество = Автомат.Данные.Количество + 1;
    КонецЕсли;
    
    Запись = СтароеСостояние + " --[" + Событие + "]--> " + НовоеСостояние;
    Автомат.Журнал.Добавить(Запись);
    
    Возврат Истина;
КонецФункции

// --- 10. МАТРИЧНЫЕ ОПЕРАЦИИ ---

Функция СоздатьМатрицу(КолСтрок, КолСтолбцов, Значение = 0)
    Матрица = Новый Массив;
    ИндСтр = 0;
    Пока ИндСтр < КолСтрок Цикл
        СтрокаМатрицы = Новый Массив;
        ИндСтолб = 0;
        Пока ИндСтолб < КолСтолбцов Цикл
            СтрокаМатрицы.Добавить(Значение);
            ИндСтолб = ИндСтолб + 1;
        КонецЦикла;
        Матрица.Добавить(СтрокаМатрицы);
        ИндСтр = ИндСтр + 1;
    КонецЦикла;
    Возврат Матрица;
КонецФункции

Функция УмножитьМатрицы(А, Б)
    СтрокА = А.Количество();
    СтолбА = А[0].Количество();
    СтолбБ = Б[0].Количество();
    
    Результат = СоздатьМатрицу(СтрокА, СтолбБ);
    
    Для СтрИнд = 0 По СтрокА - 1 Цикл
        Для СтолбИнд = 0 По СтолбБ - 1 Цикл
            Сумма = 0;
            Для К = 0 По СтолбА - 1 Цикл
                Сумма = Сумма + А[СтрИнд][К] * Б[К][СтолбИнд];
            КонецЦикла;
            Результат[СтрИнд][СтолбИнд] = Сумма;
        КонецЦикла;
    КонецЦикла;
    
    Возврат Результат;
КонецФункции

Функция ТранспонироватьМатрицу(М)
    КолСтрок   = М.Количество();
    КолСтолбцов = М[0].Количество();
    Результат = СоздатьМатрицу(КолСтолбцов, КолСтрок);
    
    Для СтрИнд = 0 По КолСтрок - 1 Цикл
        Для СтолбИнд = 0 По КолСтолбцов - 1 Цикл
            Результат[СтолбИнд][СтрИнд] = М[СтрИнд][СтолбИнд];
        КонецЦикла;
    КонецЦикла;
    
    Возврат Результат;
КонецФункции

// --- 11. ГЕНЕРАТОР ПРОСТЫХ ЧИСЕЛ (Решето Эратосфена) ---

Функция РешетоЭратосфена(Предел)
    ЯвляетсяПростым = Новый Соответствие;
    Для Ч = 2 По Предел Цикл
        ЯвляетсяПростым.Вставить(Ч, Истина);
    КонецЦикла;
    
    Ч = 2;
    Пока Ч * Ч <= Предел Цикл
        Если ЯвляетсяПростым[Ч] = Истина Тогда
            К = Ч * Ч;
            Пока К <= Предел Цикл
                ЯвляетсяПростым.Вставить(К, Ложь);
                К = К + Ч;
            КонецЦикла;
        КонецЕсли;
        Ч = Ч + 1;
    КонецЦикла;
    
    Простые = Новый Массив;
    Для Ч = 2 По Предел Цикл
        Если ЯвляетсяПростым[Ч] = Истина Тогда
            Простые.Добавить(Ч);
        КонецЕсли;
    КонецЦикла;
    
    Возврат Простые;
КонецФункции

// --- 12. СЛОЖНЫЕ ВЛОЖЕННЫЕ ЦИКЛЫ С УСЛОВИЯМИ ---

Процедура ПостроитьТреугольникПаскаля(Размер)
    Треугольник = Новый Массив;
    
    Для НомерСтроки = 0 По Размер - 1 Цикл
        СтрокаМассив = Новый Массив;
        Для Столбец = 0 По НомерСтроки Цикл
            Если Столбец = 0 ИЛИ Столбец = НомерСтроки Тогда
                СтрокаМассив.Добавить(1);
            Иначе
                ПредСтрока = Треугольник[НомерСтроки - 1];
                СтрокаМассив.Добавить(ПредСтрока[Столбец - 1] + ПредСтрока[Столбец]);
            КонецЕсли;
        КонецЦикла;
        Треугольник.Добавить(СтрокаМассив);
    КонецЦикла;
    
    // Вывод треугольника
    Для Каждого СтрокаТр Из Треугольник Цикл
        ТекстСтроки = "";
        Для Каждого Число Из СтрокаТр Цикл
            ТекстСтроки = ТекстСтроки + ?(ТекстСтроки = "", "", " ") + Число;
        КонецЦикла;
        Сообщить(ТекстСтроки);
    КонецЦикла;
КонецПроцедуры

// --- 13. КОНВЕРТЕР СИСТЕМ СЧИСЛЕНИЯ ---

Функция ВДесятичную(СтрокаЧисла, Основание)
    Результат = 0;
    Цифры = "0123456789ABCDEF";
    
    Для Позиция = 1 По СтрДлина(СтрокаЧисла) Цикл
        Символ = ВРег(Сред(СтрокаЧисла, Позиция, 1));
        ЗначениеЦифры = СтрНайти(Цифры, Символ) - 1;
        
        Если ЗначениеЦифры < 0 ИЛИ ЗначениеЦифры >= Основание Тогда
            ВызватьИсключение "Недопустимый символ '" + Символ + "' для основания " + Основание;
        КонецЕсли;
        
        Результат = Результат * Основание + ЗначениеЦифры;
    КонецЦикла;
    
    Возврат Результат;
КонецФункции

Функция ИзДесятичной(Число, Основание)
    Если Число = 0 Тогда
        Возврат "0";
    КонецЕсли;
    
    Цифры = "0123456789ABCDEF";
    Результат = "";
    Остаток = Число;
    
    Пока Остаток > 0 Цикл
        Результат = Сред(Цифры, (Остаток % Основание) + 1, 1) + Результат;
        Остаток = Цел(Остаток / Основание);
    КонецЦикла;
    
    Возврат Результат;
КонецФункции

// --- 14. ПРОВЕРКА РЕЗУЛЬТАТОВ ---

Процедура ПроверитьРезультат(Описание, Фактическое, Ожидаемое)
    Если Фактическое = Ожидаемое Тогда
        Сообщить("PASS " + Описание + " = " + Фактическое);
    Иначе
        Сообщить("FAIL " + Описание + ": ожидалось " + Ожидаемое + ", получено " + Фактическое);
    КонецЕсли;
    Счетчик = Счетчик + 1;
КонецПроцедуры

// =============================================================================
// ТЕЛО МОДУЛЯ (исполняемый код)
// =============================================================================

// --- 1. ПЕРЕМЕННЫЕ РАЗЛИЧНЫХ ТИПОВ ---

Счетчик = 0;

ЦелоеЧисло     = 42;
ДробноеЧисло   = 3.14159265;
БулевоИстина    = Истина;
БулевоЛожь      = Ложь;
ПустаяСтрока    = "";
ДлиннаяСтрока   = "Это достаточно длинная строка для проверки отображения значений в отладчике, которая содержит спецсимволы: ""кавычки"", табуляция	и переносы
|строк";
ДатаВремя       = '20260208120000';
НеопределеноЗнч = Неопределено;
НуллЗнч         = NULL;

Сообщить("Переменные инициализированы: " + ЦелоеЧисло + ", " + ДробноеЧисло + ", " + БулевоИстина);
Сообщить("Булево: " + БулевоЛожь + ", Пустая=[" + ПустаяСтрока + "], Длинная=" + СтрДлина(ДлиннаяСтрока));
Сообщить("Дата: " + ДатаВремя + ", Неопр=" + НеопределеноЗнч + ", Null=" + НуллЗнч);

// --- 2. КОЛЛЕКЦИИ ---

// Массив
МассивЧисел = Новый Массив;
Для Индекс = 1 По 20 Цикл
    МассивЧисел.Добавить(Индекс * Индекс);
КонецЦикла;

// Структура с вложенными структурами
Адрес = Новый Структура;
Адрес.Вставить("Город", "Москва");
Адрес.Вставить("Улица", "Тверская");
Адрес.Вставить("Дом", 15);
Адрес.Вставить("Координаты", Новый Структура("Широта,Долгота", 55.7558, 37.6173));

Сотрудник = Новый Структура;
Сотрудник.Вставить("ФИО", "Иванов Иван Иванович");
Сотрудник.Вставить("Возраст", 35);
Сотрудник.Вставить("Адрес", Адрес);
Сотрудник.Вставить("Навыки", Новый Массив);
Сотрудник.Навыки.Добавить("1С:Предприятие");
Сотрудник.Навыки.Добавить("SQL");
Сотрудник.Навыки.Добавить("JavaScript");

// Соответствие
КэшРезультатов = Новый Соответствие;
КэшРезультатов.Вставить("фибоначчи_10", 55);
КэшРезультатов.Вставить("фибоначчи_20", 6765);
КэшРезультатов.Вставить("факториал_10", 3628800);

// Массив структур (имитация таблицы значений)
ТаблицаДанных = Новый Массив;
Для Ш = 1 По 5 Цикл
    СтрокаТаблицы = Новый Структура;
    СтрокаТаблицы.Вставить("Номер", Ш);
    СтрокаТаблицы.Вставить("Наименование", "Товар_" + Ш);
    СтрокаТаблицы.Вставить("Цена", Ш * 100.50);
    СтрокаТаблицы.Вставить("Количество", Ш * 3);
    СтрокаТаблицы.Вставить("Сумма", СтрокаТаблицы.Цена * СтрокаТаблицы.Количество);
    ТаблицаДанных.Добавить(СтрокаТаблицы);
КонецЦикла;

// --- 3. Вызовы рекурсивных функций (проверка стека вызовов) ---

РезФакт5  = Факториал(5);                  // 120
РезФакт10 = Факториал(10);                 // 3628800
РезФиб10  = ФибоначчиРекурсивный(10);      // 55
РезФибИт  = ФибоначчиИтеративный(20);      // 6765
РезНОД    = НОД(48, 18);                   // 6
РезНОК    = НОК(12, 8);                    // 24
РезСтеп   = ФункцияСтепень(2, 10);         // 1024

// --- 4. Строковые операции ---

ТестоваяСтрока  = "Привет, мир! Это тестовая строка для отладчика.";
Перевернутая    = ПеревернутьСтроку("ABCDEF");
КолВхождений    = ПодсчитатьВхождения(ТестоваяСтрока, "о");
МассивСлов      = РазделитьСтроку("один;два;три;четыре;пять", ";");
ОбратноСоедин   = СоединитьМассив(МассивСлов, " -> ");

Сообщить("Перевернутая: " + Перевернутая);
Сообщить("Кол-во вхождений 'о': " + КолВхождений);
Сообщить("Соединено: " + ОбратноСоедин);

// --- 5. Сортировка ---

МассивДляСортировки1 = Новый Массив;
МассивДляСортировки2 = Новый Массив;
ДанныеСорт = Новый Массив;
ДанныеСорт.Добавить(64); ДанныеСорт.Добавить(34); ДанныеСорт.Добавить(25);
ДанныеСорт.Добавить(12); ДанныеСорт.Добавить(22); ДанныеСорт.Добавить(11);
ДанныеСорт.Добавить(90); ДанныеСорт.Добавить(1);  ДанныеСорт.Добавить(45);
ДанныеСорт.Добавить(78); ДанныеСорт.Добавить(3);  ДанныеСорт.Добавить(56);

Для Каждого Элемент Из ДанныеСорт Цикл
    МассивДляСортировки1.Добавить(Элемент);
    МассивДляСортировки2.Добавить(Элемент);
КонецЦикла;

СортировкаПузырьком(МассивДляСортировки1);
БыстраяСортировка(МассивДляСортировки2);

// --- 6. Обработка исключений ---

РезДеления1 = БезопасноеДеление(100, 3);   // ~33.33
РезДеления2 = БезопасноеДеление(100, 0);   // "ОШИБКА: Деление на ноль!"
РезДеления3 = БезопасноеДеление(0, 5);     // 0
ТестВложенныхИсключений();

Сообщить("Деление 100/3: " + РезДеления1);
Сообщить("Деление 100/0: " + РезДеления2);
Сообщить("Деление 0/5: " + РезДеления3);

// --- 7. Функции высшего порядка ---

ЧислаОтОдногоДоДесяти = Новый Массив;
Для Сч = 1 По 10 Цикл
    ЧислаОтОдногоДоДесяти.Добавить(Сч);
КонецЦикла;

Удвоенные        = ПрименитьКМассиву(ЧислаОтОдногоДоДесяти, "умножить", 2);
Квадраты         = ПрименитьКМассиву(ЧислаОтОдногоДоДесяти, "квадрат", 0);
БольшеПяти       = ПрименитьКМассиву(ЧислаОтОдногоДоДесяти, "фильтр_больше", 5);
СуммаВсех        = Свертка(ЧислаОтОдногоДоДесяти, 0, "сумма");         // 55
ПроизведениеВсех = Свертка(ЧислаОтОдногоДоДесяти, 1, "произведение"); // 3628800
Максимум         = Свертка(ЧислаОтОдногоДоДесяти, 0, "макс");          // 10
Минимум          = Свертка(ЧислаОтОдногоДоДесяти, 999, "мин");         // 1

// Тест счетчика
ОбъектСчетчик = СоздатьСчетчик(0);
УвеличитьСчетчик(ОбъектСчетчик);
УвеличитьСчетчик(ОбъектСчетчик, 5);
УвеличитьСчетчик(ОбъектСчетчик, 10);
Сообщить("Счетчик: " + ПолучитьЗначениеСчетчика(ОбъектСчетчик)); // 16

Сообщить("Удвоенные: " + Удвоенные.Количество() + ", Квадраты: " + Квадраты.Количество()
    + ", БольшеПяти: " + БольшеПяти.Количество());
Сообщить("Максимум: " + Максимум + ", Минимум: " + Минимум);

// --- 8. Граф и BFS ---

ГрафГородов     = СоздатьГраф();
ПутьМоскваСПб   = ПоискВШирину(ГрафГородов, "Москва", "Санкт-Петербург");
ПутьМоскваКурск = ПоискВШирину(ГрафГородов, "Москва", "Курск");

Сообщить("Путь Москва -> СПб: " + СоединитьМассив(ПутьМоскваСПб, " -> "));
Сообщить("Путь Москва -> Курск: " + СоединитьМассив(ПутьМоскваКурск, " -> "));

// --- 9. Конечный автомат ---

КА = СоздатьАвтомат();
ОбработатьСобытие(КА, "СТАРТ");
ОбработатьСобытие(КА, "ДАННЫЕ", 10);
ОбработатьСобытие(КА, "ДАННЫЕ", 20);
ОбработатьСобытие(КА, "ДАННЫЕ", 30);
ОбработатьСобытие(КА, "ПАУЗА");
ОбработатьСобытие(КА, "ДАННЫЕ", 999);          // Должно быть отклонено!
ОбработатьСобытие(КА, "ВОЗОБНОВИТЬ");
ОбработатьСобытие(КА, "ОШИБКА");
ОбработатьСобытие(КА, "ПОВТОРИТЬ");
ОбработатьСобытие(КА, "ДАННЫЕ", 40);
ОбработатьСобытие(КА, "ЗАВЕРШИТЬ");

Для Каждого ЗаписьЖурнала Из КА.Журнал Цикл
    Сообщить("КА: " + ЗаписьЖурнала);
КонецЦикла;

// --- 10. Матричные операции ---

МатрицаА = Новый Массив;
СтрокаА0 = Новый Массив; СтрокаА0.Добавить(1); СтрокаА0.Добавить(2); СтрокаА0.Добавить(3);
СтрокаА1 = Новый Массив; СтрокаА1.Добавить(4); СтрокаА1.Добавить(5); СтрокаА1.Добавить(6);
СтрокаА2 = Новый Массив; СтрокаА2.Добавить(7); СтрокаА2.Добавить(8); СтрокаА2.Добавить(9);
МатрицаА.Добавить(СтрокаА0);
МатрицаА.Добавить(СтрокаА1);
МатрицаА.Добавить(СтрокаА2);

МатрицаБ = Новый Массив;
СтрокаБ0 = Новый Массив; СтрокаБ0.Добавить(9); СтрокаБ0.Добавить(8); СтрокаБ0.Добавить(7);
СтрокаБ1 = Новый Массив; СтрокаБ1.Добавить(6); СтрокаБ1.Добавить(5); СтрокаБ1.Добавить(4);
СтрокаБ2 = Новый Массив; СтрокаБ2.Добавить(3); СтрокаБ2.Добавить(2); СтрокаБ2.Добавить(1);
МатрицаБ.Добавить(СтрокаБ0);
МатрицаБ.Добавить(СтрокаБ1);
МатрицаБ.Добавить(СтрокаБ2);

Произведение      = УмножитьМатрицы(МатрицаА, МатрицаБ);
Транспонированная  = ТранспонироватьМатрицу(МатрицаА);

Сообщить("Матрица Произведение[0][0]=" + Произведение[0][0] + ", Трансп[0][0]=" + Транспонированная[0][0]);

// --- 11. Решето Эратосфена ---

ПростыеДо100 = РешетоЭратосфена(100);

// --- 12. Треугольник Паскаля ---

ПостроитьТреугольникПаскаля(10);

// --- 13. Конвертер систем счисления ---

Десятичное255      = ВДесятичную("FF", 16);        // 255
Двоичное255        = ИзДесятичной(255, 2);          // "11111111"
Восьмеричное       = ИзДесятичной(255, 8);          // "377"
Шестнадцатеричное  = ИзДесятичной(1000, 16);        // "3E8"
ОбратноВДес        = ВДесятичную(Двоичное255, 2);   // 255

Сообщить("FF(16) -> " + Десятичное255 + " (обратно: " + ОбратноВДес + ")");
Сообщить("255 -> двоичное: " + Двоичное255);
Сообщить("255 -> восьмеричное: " + Восьмеричное);
Сообщить("1000 -> шестнадцатеричное: " + Шестнадцатеричное);

// --- 14. РАБОТА СО СПРАВОЧНИКОМ (внешние вызовы, ссылки, объекты) ---

Сообщить("--- Тест справочника: очистка ---");
Справочники.ТестовыйСправочник.ОчиститьСправочник();

// 14.1. Создание элементов через функцию менеджера
Сообщить("--- Тест справочника: создание элементов ---");
Ссылка1 = Справочники.ТестовыйСправочник.СоздатьТестовыйЭлемент("Альфа",   "ЗначениеА");
Ссылка2 = Справочники.ТестовыйСправочник.СоздатьТестовыйЭлемент("Бета",    "ЗначениеБ");
Ссылка3 = Справочники.ТестовыйСправочник.СоздатьТестовыйЭлемент("Гамма",   "ЗначениеГ");
Ссылка4 = Справочники.ТестовыйСправочник.СоздатьТестовыйЭлемент("Дельта",  "");
Ссылка5 = Справочники.ТестовыйСправочник.СоздатьТестовыйЭлемент("Эпсилон", "ЗначениеЕ", "ТЕСТ-001");

// 14.2. Проверка количества элементов
КолЭлементов = Справочники.ТестовыйСправочник.ПолучитьКоличествоЭлементов();
Сообщить("Создано элементов: " + КолЭлементов);

// 14.3. Поиск по наименованию — получение ссылки
НайденнаяСсылка = Справочники.ТестовыйСправочник.НайтиПоНаименованию("Бета");
Сообщить("Найден по наименованию 'Бета': " + НайденнаяСсылка);

// 14.4. Поиск по коду — получение ссылки
СсылкаПоКоду = Справочники.ТестовыйСправочник.НайтиПоКоду("ТЕСТ-001");
Сообщить("Найден по коду 'ТЕСТ-001': " + СсылкаПоКоду);

// 14.5. Получение объекта из ссылки
ОбъектЭлемента = Справочники.ТестовыйСправочник.ПолучитьОбъектЭлемента(НайденнаяСсылка);
Сообщить("Объект элемента 'Бета': Наименование=" + ОбъектЭлемента.Наименование
    + ", ТестовыйРеквизит=" + ОбъектЭлемента.ТестовыйРеквизит
    + ", Код=" + ОбъектЭлемента.Код);

// 14.6. Изменение реквизита через функцию менеджера
РезИзменения = Справочники.ТестовыйСправочник.ИзменитьТестовыйРеквизит(Ссылка4, "Новое");
Сообщить("Изменение реквизита 'Дельта': " + РезИзменения);

// Перечитаем объект и проверим
ОбъектДельта = Ссылка4.ПолучитьОбъект();
Сообщить("Дельта после изменения: ТестовыйРеквизит=" + ОбъектДельта.ТестовыйРеквизит);

// 14.7. Пакетное создание набора
МассивНабора = Справочники.ТестовыйСправочник.СоздатьНабор(5, "Пакет_");
Сообщить("Создан набор из " + МассивНабора.Количество() + " элементов");
КолПослеНабора = Справочники.ТестовыйСправочник.ПолучитьКоличествоЭлементов();
Сообщить("Всего элементов после набора: " + КолПослеНабора);

// 14.8. Получение всех элементов (массив структур)
ВсеЭлементы = Справочники.ТестовыйСправочник.ПолучитьВсеЭлементы();
Сообщить("ПолучитьВсеЭлементы: " + ВсеЭлементы.Количество());
Для Каждого ЭлСправочника Из ВсеЭлементы Цикл
    Сообщить("  -> " + ЭлСправочника.Код + " | " + ЭлСправочника.Наименование
        + " | " + ЭлСправочника.ТестовыйРеквизит);
КонецЦикла;

// 14.9. Суммарная длина наименований
ДлинаНаименований = Справочники.ТестовыйСправочник.СуммарнаяДлинаНаименований();
Сообщить("Суммарная длина наименований: " + ДлинаНаименований);

// 14.10. Формирование текстового отчёта
ТекстОтчета = Справочники.ТестовыйСправочник.СформироватьОтчет();
Сообщить(ТекстОтчета);

// 14.11. Пометка на удаление
РезУдаления = Справочники.ТестовыйСправочник.ПометитьНаУдаление(Ссылка3);
Сообщить("Пометка на удаление 'Гамма': " + РезУдаления);
КолПослеУдаления = Справочники.ТестовыйСправочник.ПолучитьКоличествоЭлементов();
Сообщить("Элементов после пометки удаления: " + КолПослеУдаления);

// 14.12. Тест получения объекта от пустой ссылки
ПустаяСсылка = Справочники.ТестовыйСправочник.ПустаяСсылка();
ОбъектПустой = Справочники.ТестовыйСправочник.ПолучитьОбъектЭлемента(ПустаяСсылка);
Сообщить("Объект от пустой ссылки: " + ОбъектПустой); // Неопределено

// 14.13. Прямая работа со ссылкой и объектом (без менеджера)
ОбъектНапрямую = Справочники.ТестовыйСправочник.СоздатьЭлемент();
ОбъектНапрямую.Наименование     = "Прямой";
ОбъектНапрямую.ТестовыйРеквизит = "Напрямую";
ОбъектНапрямую.Записать();
СсылкаНапрямую = ОбъектНапрямую.Ссылка;
Сообщить("Создан напрямую: " + СсылкаНапрямую + ", ПустаяСсылка=" + СсылкаНапрямую.Пустая());

// Чтение реквизитов через точку от ссылки
Сообщить("Через ссылку: Наименование=" + СсылкаНапрямую.Наименование
    + ", ТестовыйРеквизит=" + СсылкаНапрямую.ТестовыйРеквизит);

// 14.13а. Табличные части — создание элемента с заполненным составом
Сообщить("--- Тест табличных частей ---");

СоставТовара = Новый Массив;

Строка1 = Новый Структура("Наименование, Количество, Цена", "Болт М8",     100, 5.50);
Строка2 = Новый Структура("Наименование, Количество, Цена", "Гайка М8",    200, 3.20);
Строка3 = Новый Структура("Наименование, Количество, Цена", "Шайба М8",    150, 1.80);
Строка4 = Новый Структура("Наименование, Количество, Цена", "Винт М6x20",   50, 8.00);
Строка5 = Новый Структура("Наименование, Количество, Цена", "Шпилька М10", 30, 12.50);

СоставТовара.Добавить(Строка1);
СоставТовара.Добавить(Строка2);
СоставТовара.Добавить(Строка3);
СоставТовара.Добавить(Строка4);
СоставТовара.Добавить(Строка5);

СсылкаСТЧ = Справочники.ТестовыйСправочник.СоздатьТестовыйЭлемент("Крепёж", "Набор", Неопределено, СоставТовара);
Сообщить("Создан элемент с ТЧ: " + СсылкаСТЧ);

// Получаем объект, чтобы проверить табличную часть
ОбъектСТЧ = СсылкаСТЧ.ПолучитьОбъект();
КолСтрокТЧ = ОбъектСТЧ.Состав.Количество();
Сообщить("Строк в ТЧ 'Состав': " + КолСтрокТЧ);

Для Каждого СтрТЧ Из ОбъектСТЧ.Состав Цикл
    Сообщить("  -> " + СтрТЧ.Наименование + " | Кол=" + СтрТЧ.Количество + " | Цена=" + СтрТЧ.Цена);
КонецЦикла;

// Присваиваем строки ТЧ в отдельные переменные
ПерваяСтрокаТЧ = ОбъектСТЧ.Состав[0];
ВтораяСтрокаТЧ = ОбъектСТЧ.Состав[1];
ТабличнаяЧасть = ОбъектСТЧ.Состав;
Сообщить("Первая строка ТЧ: " + ПерваяСтрокаТЧ.Наименование + " | Кол=" + ПерваяСтрокаТЧ.Количество);

// Элемент с пустой табличной частью
СсылкаБезТЧ = Справочники.ТестовыйСправочник.СоздатьТестовыйЭлемент("Пустой состав", "БезСостава");
ОбъектБезТЧ = СсылкаБезТЧ.ПолучитьОбъект();
Сообщить("Строк в ТЧ пустого: " + ОбъектБезТЧ.Состав.Количество());

// BREAKPOINT: остановитесь здесь и проверьте в табло:
// - СсылкаСТЧ → раскрыть → Состав должна показываться как таблица с 5 строками
// - ОбъектСТЧ → раскрыть → Состав должна раскрываться с колонками Наименование, Количество, Цена
// - ПерваяСтрокаТЧ → раскрыть → НомерСтроки, Наименование, Количество, Цена
// - ВтораяСтрокаТЧ → раскрыть → аналогично
// - ТабличнаяЧасть → раскрыть → 5 строк (ТЧ как отдельная переменная)
// - СсылкаБезТЧ / ОбъектБезТЧ → Состав (0) — пустая табличная часть
Сообщить("=== Точка останова для проверки табличных частей в табло ===");

// 14.14. Тест разыменования объекта vs ссылки в табло отладчика
// Эти переменные нужно проверить в окне «Табло» / «Переменные»:
// - у Ссылки и у Объекта должны одинаково раскрываться свойства

// Создаём несколько элементов, держим и ссылку, и объект
ОбъектТабло1 = Справочники.ТестовыйСправочник.СоздатьЭлемент();
ОбъектТабло1.Наименование     = "ТаблоОбъект1";
ОбъектТабло1.ТестовыйРеквизит = "ОбъЗнач1";
ОбъектТабло1.Записать();
СсылкаТабло1 = ОбъектТабло1.Ссылка;

ОбъектТабло2 = Справочники.ТестовыйСправочник.СоздатьЭлемент();
ОбъектТабло2.Наименование     = "ТаблоОбъект2";
ОбъектТабло2.ТестовыйРеквизит = "ОбъЗнач2";
ОбъектТабло2.Записать();
СсылкаТабло2 = ОбъектТабло2.Ссылка;

// Перечитаем объект из базы — новый экземпляр объекта
ОбъектТаблоПеречитанный = СсылкаТабло1.ПолучитьОбъект();

// Доступ к реквизитам через объект (должен разыменовываться в табло)
ИмяЧерезОбъект     = ОбъектТабло1.Наименование;
РеквизитЧерезОбъект = ОбъектТабло1.ТестовыйРеквизит;
КодЧерезОбъект      = ОбъектТабло1.Код;
ПометкаЧерезОбъект  = ОбъектТабло1.ПометкаУдаления;

// Те же реквизиты через ссылку (для сравнения в табло)
ИмяЧерезСсылку      = СсылкаТабло1.Наименование;
РеквизитЧерезСсылку  = СсылкаТабло1.ТестовыйРеквизит;
КодЧерезСсылку       = СсылкаТабло1.Код;
ПометкаЧерезСсылку   = СсылкаТабло1.ПометкаУдаления;

Сообщить("Объект:  Имя=" + ИмяЧерезОбъект + ", Рекв=" + РеквизитЧерезОбъект
    + ", Код=" + КодЧерезОбъект + ", ПУ=" + ПометкаЧерезОбъект);
Сообщить("Ссылка:  Имя=" + ИмяЧерезСсылку + ", Рекв=" + РеквизитЧерезСсылку
    + ", Код=" + КодЧерезСсылку + ", ПУ=" + ПометкаЧерезСсылку);

// Изменяем объект БЕЗ записи — объект и ссылка показывают разное
ОбъектТабло2.Наименование     = "Изменённый";
ОбъектТабло2.ТестовыйРеквизит = "НовоеЗнч";
// В табло: ОбъектТабло2.Наименование = "Изменённый" (изменённый объект)
//          СсылкаТабло2.Наименование = "ТаблоОбъект2" (ещё из базы)
ИмяОбъектаДоЗаписи  = ОбъектТабло2.Наименование;      // "Изменённый"
ИмяСсылкиДоЗаписи   = СсылкаТабло2.Наименование;       // "ТаблоОбъект2"
Сообщить("До записи — Объект.Наименование=" + ИмяОбъектаДоЗаписи
    + ", Ссылка.Наименование=" + ИмяСсылкиДоЗаписи);

// Записываем — теперь и ссылка должна показывать новое
ОбъектТабло2.Записать();
ИмяСсылкиПослеЗаписи = СсылкаТабло2.Наименование; // "Изменённый"
Сообщить("После записи — Ссылка.Наименование=" + ИмяСсылкиПослеЗаписи);

// Несколько объектов в массиве — табло должно раскрывать каждый
МассивОбъектов = Новый Массив;
МассивОбъектов.Добавить(ОбъектТабло1);
МассивОбъектов.Добавить(ОбъектТабло2);
МассивОбъектов.Добавить(ОбъектТаблоПеречитанный);

// Структура, содержащая и ссылку, и объект — проверка вложенного разыменования
КомплексныйКонтейнер = Новый Структура;
КомплексныйКонтейнер.Вставить("Ссылка",  СсылкаТабло1);
КомплексныйКонтейнер.Вставить("Объект",  ОбъектТабло1);
КомплексныйКонтейнер.Вставить("Имя",     ОбъектТабло1.Наименование);
КомплексныйКонтейнер.Вставить("Ссылка2", СсылкаТабло2);
КомплексныйКонтейнер.Вставить("Объект2", ОбъектТабло2);

// Вложенное обращение: Контейнер.Объект.Наименование
ВложенноеИмя = КомплексныйКонтейнер.Объект.Наименование;
Сообщить("Вложенное: Контейнер.Объект.Наименование=" + ВложенноеИмя);

// Соответствие с объектами
СоответствиеОбъектов = Новый Соответствие;
СоответствиеОбъектов.Вставить("элемент1_объект", ОбъектТабло1);
СоответствиеОбъектов.Вставить("элемент1_ссылка", СсылкаТабло1);
СоответствиеОбъектов.Вставить("элемент2_объект", ОбъектТабло2);
СоответствиеОбъектов.Вставить("элемент2_ссылка", СсылкаТабло2);

// Ссылка на объект, который ещё не записан (новый)
ОбъектНовыйНеЗаписанный = Справочники.ТестовыйСправочник.СоздатьЭлемент();
ОбъектНовыйНеЗаписанный.Наименование     = "НеЗаписанный";
ОбъектНовыйНеЗаписанный.ТестовыйРеквизит = "Черновик";
СсылкаНового = ОбъектНовыйНеЗаписанный.Ссылка;
ЭтоНовый     = ОбъектНовыйНеЗаписанный.ЭтоНовый();
Сообщить("Новый не записанный: ЭтоНовый=" + ЭтоНовый
    + ", Ссылка.Пустая=" + СсылкаНового.Пустая()
    + ", Наименование=" + ОбъектНовыйНеЗаписанный.Наименование);

// BREAKPOINT: остановитесь здесь и проверьте в табло:
// - ОбъектТабло1, ОбъектТабло2, ОбъектТаблоПеречитанный — должны раскрываться как ссылки
// - МассивОбъектов[0], МассивОбъектов[1] — должны показывать свойства элементов
// - КомплексныйКонтейнер.Объект — должен раскрываться с Наименование, Код и т.д.
// - СоответствиеОбъектов["элемент1_объект"] — аналогично
// - ОбъектНовыйНеЗаписанный — новый, ещё без ссылки в базе
Сообщить("=== Точка останова для проверки разыменования объектов в табло ===");

// 14.15. Очистка после тестов
Справочники.ТестовыйСправочник.ОчиститьСправочник();
КолПослеОчистки = Справочники.ТестовыйСправочник.ПолучитьКоличествоЭлементов();
Сообщить("Элементов после очистки: " + КолПослеОчистки);

// --- 15. ИТОГОВАЯ ПРОВЕРКА ВСЕХ РЕЗУЛЬТАТОВ ---

Сообщить("========================================");
Сообщить("РЕЗУЛЬТАТЫ ТЕСТИРОВАНИЯ ОТЛАДЧИКА");
Сообщить("========================================");

ПроверитьРезультат("Факториал(5)",           РезФакт5,  120);
ПроверитьРезультат("Факториал(10)",          РезФакт10, 3628800);
ПроверитьРезультат("Фибоначчи(10)",          РезФиб10,  55);
ПроверитьРезультат("ФибоначчиИтер(20)",      РезФибИт,  6765);
ПроверитьРезультат("НОД(48,18)",             РезНОД,    6);
ПроверитьРезультат("НОК(12,8)",              РезНОК,    24);
ПроверитьРезультат("Степень(2,10)",          РезСтеп,   1024);
ПроверитьРезультат("Сумма 1..10",            СуммаВсех, 55);
ПроверитьРезультат("Произведение 1..10",     ПроизведениеВсех, 3628800);
ПроверитьРезультат("Решето: простых до 100", ПростыеДо100.Количество(), 25);
ПроверитьРезультат("Конвертер: FF->10",      Десятичное255, 255);
ПроверитьРезультат("Конвертер: 255->2",      Двоичное255, "11111111");
ПроверитьРезультат("Журнал КА: записей",     КА.Журнал.Количество(), 11);
ПроверитьРезультат("КА итого сумма",         КА.Данные.Сумма, 100);
ПроверитьРезультат("Сортировка пузырьком[0]", МассивДляСортировки1[0], 1);
ПроверитьРезультат("Быстрая сортировка[0]",   МассивДляСортировки2[0], 1);
ПроверитьРезультат("BFS Москва->СПб",        ПутьМоскваСПб.Количество(), 4);

// Проверки справочника
ПроверитьРезультат("Справочник: создано 5шт",       КолЭлементов,       5);
ПроверитьРезультат("Справочник: найден по имени",   НайденнаяСсылка.Пустая(), Ложь);
ПроверитьРезультат("Справочник: найден по коду",    СсылкаПоКоду.Пустая(),    Ложь);
ПроверитьРезультат("Справочник: объект.Наименование", ОбъектЭлемента.Наименование, "Бета");
ПроверитьРезультат("Справочник: изменение реквизита", РезИзменения, Истина);
ПроверитьРезультат("Справочник: реквизит изменен",  ОбъектДельта.ТестовыйРеквизит, "Новое");
ПроверитьРезультат("Справочник: набор создан",      МассивНабора.Количество(), 5);
ПроверитьРезультат("Справочник: всего после набора", КолПослеНабора, 10);
ПроверитьРезультат("Справочник: все элементы",      ВсеЭлементы.Количество(), 10);
ПроверитьРезультат("Справочник: пометка удаления",  РезУдаления, Истина);
ПроверитьРезультат("Справочник: после пометки",     КолПослеУдаления, 9);
ПроверитьРезультат("Справочник: пустая ссылка",     ОбъектПустой, Неопределено);
ПроверитьРезультат("Справочник: после очистки",     КолПослеОчистки, 0);

Сообщить("========================================");
Сообщить("Всего проверок: " + Счетчик);
Сообщить("========================================");
//ВызватьИсключение "Бабам";
